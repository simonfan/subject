var _=require("lodash"),log=console.log,subject=function(){};subject.lalalala="aaaa",subject.methods=function e(e){function t(t){var n=Array.prototype.slice.call(arguments);return n.shift(),n.unshift(this.__wrapped__),e[t].apply(this,n)}_.each(e,_.bind(function(e,n){this[n]=_.partial(t,n)},this))},subject.define=function(e,t){var n=this;log("!!!!!!!!!!!!define!!!!!!!!!!!!!!!!!!!!"),console.log(this);var r=typeof e=="function"?e:!1,i=r?t:e,o=function(e){return s.methods(i),s.__wrapped__=e,s};return o.prototype=Object.create(n),o};var arr=subject.define({push:function(e,t){return e.push(t),this},data:function(e){return e},pushAndData:function(e,t){return this.push(t),this.data()}});log("!!!!arr"),log(arr);var list1=arr([10,30,1e3]),list2=arr(["a","b","c"]);list1.push(1e4),list2.push("ooo"),log(list1),log(list2);var improvedArr=arr.define({unshift:function(e,t){e.unshift(t)}});log(improvedArr);var superList=improvedArr(["abc",12312]);log(superList),superList.push("102013023"),superList.unshift("uhuuuuuul"),log(superList),log(list1),log(list2);